# sntp_client

* [参考Android系统实现](https://cs.android.com/android/platform/superproject/+/android14-qpr3-release:frameworks/base/core/java/android/net/SntpClient.java)

```bash
正在同步...
=== SNTP Request ===
LI: 0, VN: 3, Mode: 3
Stratum: 0 (unspecified or invalid)
Poll Interval: 0 (2^0 seconds)
Precision: 0 (2^0 seconds)
Root Delay: 0.000000 seconds
Root Dispersion: 0.000000 seconds
Reference ID: 
Reference Timestamp: 1900-01-01 08:05:43.000000000 (0.0)
Origin Timestamp: 1900-01-01 08:05:43.000000000 (0.0)
Receive Timestamp: 1900-01-01 08:05:43.000000000 (0.0)
Transmit Timestamp: 2024-11-17 12:57:55.001659166 (3940808275.884763648)
====================

=== SNTP Response ===
LI: 0, VN: 3, Mode: 4
Stratum: 2 (secondary reference)
Poll Interval: 3 (2^3 seconds)
Precision: -23 (2^-23 seconds)
Root Delay: 0.001938 seconds
Root Dispersion: 0.017883 seconds
Reference ID: dz$\304
Reference Timestamp: 2024-11-17 12:50:35.007211870 (3940807835.463722497)
Origin Timestamp: 2024-11-17 12:57:55.001659166 (3940808275.884763648)
Receive Timestamp: 2024-11-17 12:57:55.674701943 (3940808275.1027914156)
Transmit Timestamp: 2024-11-17 12:57:55.680622413 (3940808275.1027947950)
====================

本地发送时间(t1)=2024-11-17 12:57:55, 服务器接收时间(t2)=2024-11-17 12:57:55, 服务器发送时间(t3)=2024-11-17 12:57:55, 本地接收时间(t4)=2024-11-17 12:57:55, 延迟=39.99ms, 偏移=13.33ms, 同步时服务器时间=2024-11-17 12:57:55
同步成功
当前服务器时间: 2024-11-17 12:57:55 (上次同步: 0.0秒前)
当前服务器时间: 2024-11-17 12:57:56 (上次同步: 1.0秒前)
当前服务器时间: 2024-11-17 12:57:57 (上次同步: 2.0秒前)
当前服务器时间: 2024-11-17 12:57:58 (上次同步: 3.0秒前)
当前服务器时间: 2024-11-17 12:57:59 (上次同步: 4.0秒前)
当前服务器时间: 2024-11-17 12:58:00 (上次同步: 5.0秒前)
当前服务器时间: 2024-11-17 12:58:01 (上次同步: 6.0秒前)
当前服务器时间: 2024-11-17 12:58:02 (上次同步: 7.0秒前)
当前服务器时间: 2024-11-17 12:58:03 (上次同步: 8.0秒前)
当前服务器时间: 2024-11-17 12:58:04 (上次同步: 9.0秒前)
当前服务器时间: 2024-11-17 12:58:05 (上次同步: 10.0秒前)
当前服务器时间: 2024-11-17 12:58:06 (上次同步: 11.0秒前)
当前服务器时间: 2024-11-17 12:58:07 (上次同步: 12.0秒前)
当前服务器时间: 2024-11-17 12:58:08 (上次同步: 13.0秒前)
当前服务器时间: 2024-11-17 12:58:09 (上次同步: 14.0秒前)
```